status:
  music:
    params:
      refresh: 5

    script: |
      def pause!
        system 'rhythmbox-client --no-start --play-pause'
        refresh
      end

      def stop
        system 'rhythmbox-client --no-start --stop'
        refresh
      end

      def next
        system 'rhythmbox-client --no-start --next'
        refresh
      end

      def prev
        system 'rhythmbox-client --no-start --previous'
        refresh
      end

    label: |
      `rhythmbox-client --no-start --print-playing-format '(%ta) %at - %tt'`

    control:
      action:
        music_stop: self.stop
        music_previous: self.prev
        music_next: self.next
        music_pause!: self.pause!
